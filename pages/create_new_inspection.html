<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create New Inspection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&display=swap");
      .text-bluewood-800 {
        color: #34475e;
      }

      .font-mulish {
        font-family: "Mulish", sans-serif;
        font-optical-sizing: auto;
        font-style: normal;
      }
      .text-bluewood-800 {
        color: #34475e;
      }
      .hidden-sidebar {
        display: none;
      }

      .selected {
        background-color: #f8f7f7;
      }

      .selected-border {
        border: 2px solid #ff7a00; /* yellow-600 */
        border-right: 1px solid #ff7a00;
        border-radius: 5px;
      }

      @media (max-width: 600px) {
        .table-container {
          overflow-x: auto; /* Enables horizontal scrolling */
        }

        .fix-on-mobile {
          position: fixed;
          top: 0;
          width: 100%;
          z-index: 10;
        }
        @media (max-width: 1000px) {
          .hide-on-mobile {
            display: none;
          }
        }

        table {
          min-width: 600px; /* Ensures table is wide enough to require scrolling */
        }
      }
      .button-yellow-500 {
        background-color: #ff7a00; /* yellow-600 */
      }
    </style>
  </head>
  <body class="bg-white-100 font-mulish max-w-full">
    <div class="container flex h-screen max-w-full">
      <!-- First Sidebar -->
      <div
        id="firstSidebar"
        class="fixed top-0 left-0 w-12 md:w-16 lg:w-16 h-full bg-[#2F2F2F] z-10 hidden lg:block"
      >
        <nav
          class="flex flex-col items-center h-full space-y-4 text-white"
          style="padding-top: 115px"
        >
          <a href="#" class="hover:text-yellow-500">
            <img
              src="../assets/vectors/group100.svg"
              alt="Overview"
              class="mb-3"
            />
          </a>

          <a href="#" class="bg-white px-4 py-1 hover:text-yellow-500">
            <img
              src="../assets/vectors/calender.png"
              alt="calender"
              class="mb-1 w-4 md:w-4 lg:w-6"
            />
          </a>
          <a href="#" class="hover:text-yellow-500">
            <img src="../assets/vectors/camera.png" alt="camera" class="mb-3" />
          </a>
          <a href="#" class="hover:text-yellow-500">
            <img
              src="../assets/vectors/Dribbble Light Preview.svg"
              alt="Overview"
              class="mb-3 w-4 md:w-4 lg:w-6"
            />
          </a>
          <a href="#" class="hover:text-yellow-500">
            <img
              src="../assets/vectors/Layer 5.svg"
              alt="Overview"
              class="mb-3 w-4 md:w-4 lg:w-6"
            />
          </a>
          <a href="#" class="hover:text-yellow-500">
            <img
              src="../assets/vectors/Layer 2.svg"
              alt="Overview"
              class="w-4 md:w-4 lg:w-6"
            />
          </a>
        </nav>
      </div>

      <!-- Second Sidebar -->
      <div
        id="secondSidebar"
        class="fixed top-0 mt-10 lg:mt-0 left-12 md:left-16 lg:left-16 w-38 h-full bg-white shadow-md z-10 hidden lg:block second-sidebar"
      >
        <div class="p-4">
          <img
            src="../assets/logo1.png"
            alt="Logo"
            class="object-contain w-18 h-12 my-4"
          />
        </div>
        <nav class="flex flex-col space-y-4 py-1 px-4">
          <h2>TRM</h2>
          <a
            href="./dashboard.html"
            class="flex items-center hover:text-yellow-500"
          >
            <img
              src="../assets/overviewVec.png"
              alt="Overview"
              class="w-4 md:w-4 lg:w-6"
            />
            <span class="ml-1 md:ml-2 lg:ml-2">Overview</span>
          </a>
          <a
            href="inspection_page.html"
            class="flex items-center text-[#FF7A00]"
          >
            <img src="../assets/requestAct.png" alt="request" />
            <span class="ml-1 md:ml-2 lg:ml-2">Requests</span>
          </a>
        </nav>
      </div>

      <!-- Main Content -->
      <div class="flex-1 h-full w-full lg:ml-64">
        <!-- Header -->
        <div
          class="fix-on-mobile flex justify-between lg:justify-end items-center border-b border-gray-300 bg-white p-4"
        >
          <button id="toggleSidebar" class="lg:hidden p-2 z-20">
            <i class="fas fa-bars text-yellow-600"></i>
          </button>

          <div class="mr-4 md:mr-0 flex items-center space-x-4">
            <img
              src="../assets/vectors/notif.svg"
              alt="notif"
              class="text-gray-600 text-xl"
            />
            <img
              src="../assets/vectors/Group 38.jpg"
              alt="Profile"
              class="w-10 h-10 rounded-full"
            />
            <span class="text-gray-600 hidden lg:block">Adesola</span>
          </div>
        </div>

        <!-- Create New Inspection -->
        <div class="mt-28 md:mt-0 bg-white p-10 md:p-6 rounded-lg">
          <div class="md:mb-6 flex justify-between items-center">
            <div>
              <h1 class="text-sm md:text-xl font-bold mb-1 text-bluewood-800">
                Create New Inspection
              </h1>
              <p class="text-sm text-bluewood-800 mb-0">
                See inspections across all business classes
              </p>
            </div>

            <a href="./dashboard.html" class="flex-col items-center">
              <p class="text-sm text-bluewood-800">Close</p>
              <img
                src="../assets/vectors/close.svg"
                alt="close"
                class="w-4 h-4 md:w-6 md:h-6 mx-auto"
              />
            </a>
          </div>

          <div class="flex justify-center mb-6 gap-2">
            <div class="flex flex-col items-center justify-center p-0">
              <img
                id="preLossImg"
                src="../assets/Frame 118.png"
                alt="Pre-loss Inspection"
                width="180px"
                height="200px"
                class="mb-4"
              />
            </div>
            <div class="flex flex-col items-center justify-center p-4">
              <img
                src="../assets/Frame 119.png"
                alt="Post-loss Inspection"
                id="postLossImg"
                width="180px"
                height="200px"
                class="mb-4"
              />
            </div>
          </div>

          <div class="flex flex-col items-center w-full">
            <div class="w-full max-w-xs">
              <label for="classSelect" class="text-gray-700 mb-2"
                >Choose a class</label
              >
              <select
                id="classSelect"
                class="custom-select w-full border px-4 py-2 rounded text-xs"
              >
                <option value="property">ðŸ”µ Property</option>
                <option value="motor">ðŸŸ  Motors</option>
                <option value="marine">ðŸŸ£ Marine</option>
                <option value="agric">ðŸŸ¢ Agric</option>
                <option value="bond">ðŸŸ¡ Bond</option>
                <option value="engineering">ðŸ”´ Engineering</option>
              </select>
            </div>
          </div>
          <div class="flex flex-col items-center w-full mt-20 mb-4">
            <button
              id="createRequestBtn"
              class="text-white bg-gray-400 px-4 py-2 rounded flex items-center lg:mr-10"
            >
              <img src="../assets/vectors/arrow.svg" class="mr-4" />
              Create Request
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      document
        .getElementById("toggleSidebar")
        .addEventListener("click", function () {
          const firstSidebar = document.getElementById("firstSidebar");
          const secondSidebar = document.getElementById("secondSidebar");
          if (firstSidebar.classList.contains("hidden")) {
            firstSidebar.classList.remove("hidden");
            secondSidebar.classList.remove("hidden");
          } else {
            firstSidebar.classList.add("hidden");
            secondSidebar.classList.add("hidden");
          }
        });

      const preLossImg = document.getElementById("preLossImg");
      const postLossImg = document.getElementById("postLossImg");
      const createRequestBtn = document.getElementById("createRequestBtn");
      const classSelect = document.getElementById("classSelect");
      let selectedImage = null;

      function clearSelection() {
        preLossImg.classList.remove("selected-border");
        postLossImg.classList.remove("selected-border");
        createRequestBtn.classList.remove("button-yellow-500");
        selectedImage = null;
      }

      preLossImg.addEventListener("click", function () {
        clearSelection();
        preLossImg.classList.add("selected-border");
        createRequestBtn.classList.add("button-yellow-500");
        createRequestBtn.classList.remove("bg-gray-400");
        selectedImage = "preLoss";
      });

      postLossImg.addEventListener("click", function () {
        clearSelection();
        postLossImg.classList.add("selected-border");
        createRequestBtn.classList.add("button-yellow-500");
        createRequestBtn.classList.remove("bg-gray-400");
        selectedImage = "postLoss";
      });

      createRequestBtn.addEventListener("click", function () {
        const selectedOption = classSelect.value;
        console.log("Selected Option:", selectedOption);
        console.log("Selected Image:", selectedImage);

        if (selectedOption === "property") {
          if (selectedImage === "preLoss") {
            window.location.href = "pre_loss_inspection_page.html";
          } else if (selectedImage === "postLoss") {
            window.location.href = "post_loss_inspection_page.html";
          } else {
            alert("Please select an inspection type.");
          }
        } else if (selectedOption === "motor") {
          if (selectedImage === "preLoss") {
            window.location.href = "motor_pre_loss_inspection_page.html";
          } else if (selectedImage === "postLoss") {
            window.location.href = "motor_post_loss_inspection_page.html";
          } else {
            alert("Please select an inspection type.");
          }
        } else {
          alert("Please select a valid option from the dropdown.");
        }
      });
    </script>
  </body>
</html>
