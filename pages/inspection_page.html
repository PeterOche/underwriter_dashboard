<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inspection List</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&display=swap");

      .hidden-sidebar {
        display: none;
      }

      .selected {
        background-color: #ffffff;
      }

      @media (max-width: 600px) {
        .table-container {
          overflow-x: auto; /* Enables horizontal scrolling */
        }

        .fix-on-mobile {
          position: fixed;
          top: 0;
          width: 100%;
          z-index: 10;
        }

        table {
          min-width: 600px; /* Ensures table is wide enough to require scrolling */
        }
      }
      @media (max-width: 1000px) {
        .hide-on-mobile {
          display: none;
        }
      }
      .font-mulish {
        font-family: "Mulish", sans-serif;
        font-optical-sizing: auto;
        font-style: normal;
      }
      .text-bluewood-800 {
        color: #34475e;
      }
    </style>
  </head>

  <body class="bg-white-100 font-mulish max-w-full">
    <div class="flex lg:h-screen max-w-full">
      <!-- First Sidebar -->
      <div
        id="firstSidebar"
        class="fixed top-0 left-0 w-12 md:w-16 lg:w-16 h-full bg-[#2F2F2F] z-10 hidden lg:block"
      >
        <nav
          class="flex flex-col items-center h-full space-y-4 text-white"
          style="padding-top: 115px"
        >
          <a href="#" class="hover:text-yellow-500">
            <img
              src="../assets/vectors/group100.svg"
              alt="Overview"
              class="mb-3"
            />
          </a>

          <a href="#" class="bg-white px-4 py-1 hover:text-yellow-500">
            <img
              src="../assets/vectors/calender.png"
              alt="calender"
              class="mb-1 w-4 md:w-4 lg:w-6"
            />
          </a>
          <a href="#" class="hover:text-yellow-500">
            <img src="../assets/vectors/camera.png" alt="camera" class="mb-3" />
          </a>
          <a href="#" class="hover:text-yellow-500">
            <img
              src="../assets/vectors/Dribbble Light Preview.svg"
              alt="Overview"
              class="mb-3 w-4 md:w-4 lg:w-6"
            />
          </a>
          <a href="#" class="hover:text-yellow-500">
            <img
              src="../assets/vectors/Layer 5.svg"
              alt="Overview"
              class="mb-3 w-4 md:w-4 lg:w-6"
            />
          </a>
          <a href="#" class="hover:text-yellow-500">
            <img
              src="../assets/vectors/Layer 2.svg"
              alt="Overview"
              class="w-4 md:w-4 lg:w-6"
            />
          </a>
        </nav>
      </div>

      <!-- Second Sidebar -->
      <div
        id="secondSidebar"
        class="fixed top-0 mt-10 lg:mt-0 left-12 md:left-16 lg:left-16 w-38 h-full bg-white shadow-md z-10 hidden lg:block second-sidebar"
      >
        <div class="p-4">
          <img
            src="../assets/logo1.png"
            alt="Logo"
            class="object-contain w-18 h-12 my-4"
          />
        </div>
        <nav class="flex flex-col space-y-4 py-1 px-4">
          <h2>TRM</h2>
          <a
            href="./dashboard.html"
            class="flex items-center hover:text-yellow-500"
          >
            <img
              src="../assets/overviewVec.png"
              alt="Overview"
              class="w-4 md:w-4 lg:w-6"
            />
            <span class="ml-1 md:ml-2 lg:ml-2">Overview</span>
          </a>
          <a
            href="inspection_page.html"
            class="flex items-center text-[#FF7A00]"
          >
            <img src="../assets/requestAct.png" alt="request" />
            <span class="ml-1 md:ml-2 lg:ml-2">Requests</span>
          </a>
        </nav>
      </div>

      <!-- Main Content -->
      <div class="flex-1 h-full bg-[#fdfdfd] w-full lg:ml-64">
        <!-- Header -->
        <div
          class="fix-on-mobile flex justify-between lg:justify-end items-center border-b border-gray-300 bg-white p-4"
        >
          <button id="toggleSidebar" class="lg:hidden p-2 z-20">
            <i class="fas fa-bars text-yellow-600"></i>
          </button>

          <div class="mr-4 md:mr-0 flex items-center space-x-4">
            <img
              src="../assets/vectors/notif.svg"
              alt="notif"
              class="text-gray-600 text-xl"
            />
            <img
              src="../assets/vectors/Group 38.jpg"
              alt="Profile"
              class="w-10 h-10 rounded-full"
            />
            <span class="text-gray-600 hidden lg:block">Adesola</span>
          </div>
        </div>

        <!--Section-->
        <div
          class="mt-10 md:mt-0 flex flex-col p-4 pt-10 lg:p-10 gap-10 overflow-auto"
        >
          <!-- Welcome Message -->
          <div
            class="w-full flex flex-col items-start justify-center gap-5 lg:items-center md:justify-between md:flex-row"
          >
            <div class="flex flex-col">
              <h1
                class="text-l text-bluewood-800 ml-6 md:text-lg font-bold lg: text-l"
              >
                Inspection List
              </h1>
              <p class="text-bluewood-800 ml-6">
                See inspections across all business classes
              </p>
            </div>
            <div>
              <div class="flex items-center space-x-4">
                <div class="relative hidden" id="searchBarContainer">
                  <input
                    id="replacementSearchBar"
                    type="text"
                    placeholder="Search"
                    class="px-2 py-1 border rounded pl-10"
                  />
                  <img
                    src="../assets/vectors/search.svg"
                    alt="Search Icon"
                    class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none"
                  />
                </div>
                <button
                  id="createNewInspectionBtn"
                  style="background-color: #ff7a00"
                  class="text-white px-2 py-1 rounded hover:bg-yellow-600 flex items-center mr-10"
                >
                  <i class="fas fa-plus mr-2"></i>
                  Create New Inspection
                </button>
              </div>
            </div>
          </div>

          <div class="h-full bg-[#fdfdfd] flex flex-col w-full">
            <!--table beneath-->
            <div class="bg-[#FFFFFF] lg:h-[400px] borde-2 p-4 rounded-sm">
              <!-- Filters -->
              <div class="flex flex-col lg:flex-row justify-between mb-2">
                <div
                  class="flex justify-around bg-[#F0F0F0] border-[#EEEEEE] py-1 px-1 w-fit rounded"
                >
                  <button
                    id="allRequestsBtn"
                    class="text-xs md:text-lg px-2 py-1 text-gray-700 rounded hover:bg-white"
                  >
                    All Requests
                  </button>
                  <button
                    id="ongoingRequestsBtn"
                    class="text-xs md:text-lg px-2 py-1 text-gray-700 rounded hover:bg-white"
                  >
                    Ongoing
                  </button>
                  <button
                    id="completedRequestsBtn"
                    class="text-xs md:text-lg px-2 py-1 text-gray-700 rounded hover:bg-white"
                  >
                    Completed
                  </button>
                </div>
                <div class="flex flex-col lg:flex-row space-x-2 mt-2 lg:mt-0">
                  <div class="relative" id="searchBarContainer">
                    <input
                      id="tableSearchBar"
                      type="text"
                      placeholder="Search"
                      class="px-2 py-1 border rounded pl-10 mb-2 lg:mb-0"
                    />
                    <img
                      src="../assets/vectors/search.svg"
                      alt="Search Icon"
                      class="hide-on-mobile hidden absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none"
                    />
                  </div>
                  <div
                    class="flex items-center justify-around w-[120px] space-x-2 bg-gray-200 p-2 border border-gray-300 rounded mb-2"
                  >
                    <span class="">
                      <img src="../assets/vectors/dot.png" alt="dot" />
                    </span>
                    <span class="text-center">Marine</span>
                    <span class="">
                      <img src="../assets/vectors/x.png" alt="close" />
                    </span>
                  </div>

                  <select class="px-2 py-1 border rounded">
                    <option>
                      <span class="text-gray-200">Sort by:</span> Class
                    </option>
                    <option>
                      <span class="text-gray-200">Sort by:</span> Date
                    </option>
                  </select>
                </div>
              </div>

              <!-- Inspection Table -->
              <div class="overflow-x-auto">
                <table class="min-w-full bg-white border p-4">
                  <thead>
                    <tr class="w-full text-left">
                      <th class="py-1 px-2 font-thin">ID</th>
                      <th class="py-1 px-2 font-thin">Date</th>
                      <th class="py-1 px-2 font-thin">Name</th>
                      <th class="py-1 px-2 font-thin">Inspection Method</th>
                      <th class="py-1 px-2 font-thin">Officer</th>
                      <th class="py-1 px-2 font-thin">Status</th>
                    </tr>
                  </thead>
                  <tbody id="inspectionTableBody">
                    <!-- All Requests (Default) -->
                    <tr class="all-requests font-thin">
                      <td class="border-t py- px-4">10321</td>
                      <td class="border-t py-2 px-4">15/06/2023</td>
                      <td class="border-t py-2 px-4">
                        Rovenheights properties
                      </td>
                      <td class="border-t py-2 px-4">Digital</td>
                      <td class="border-t py-2 px-4">Mustapha Onasanya</td>
                      <td class="border-t py-2 px-4">
                        <a href="./properties_page.html"
                          ><span
                            class="bg-[#FFDEBF] text-[#FF7A00] py-1 px-3 rounded text-xs"
                            >Ongoing</span
                          ></a
                        >
                      </td>
                    </tr>
                    <tr class="all-requests font-thin">
                      <td class="border-t py-2 px-4">10321</td>
                      <td class="border-t py-2 px-4">12/06/2023</td>
                      <td class="border-t py-2 px-4">Shoprite Stores</td>
                      <td class="border-t py-2 px-4">Manual</td>
                      <td class="border-t py-2 px-4">Mustapha Onasanya</td>
                      <td class="border-t py-2 px-4">
                        <span
                          class="bg-[#ECFDF3] text-[#027A48] py-1 px-3 rounded text-xs"
                          >Completed</span
                        >
                      </td>
                    </tr>

                    <!-- Ongoing Requests -->
                    <tr class="ongoing-requests font-thin hidden">
                      <td class="border-t py-2 px-4">10322</td>
                      <td class="border-t py-2 px-4">20/06/2023</td>
                      <td class="border-t py-2 px-4">Shoprite Stores</td>
                      <td class="border-t py-2 px-4">Digital</td>
                      <td class="border-t py-2 px-4">Mustapha Onasanya</td>
                      <td class="border-t py-2 px-4">
                        <span
                          class="bg-[#FFDEBF] text-[#FF7A00] py-1 px-3 rounded text-xs"
                          >Ongoing</span
                        >
                      </td>
                    </tr>
                    <tr class="ongoing-requests font-thin hidden">
                      <td class="border-t py-2 px-4">10323</td>
                      <td class="border-t py-2 px-4">22/06/2023</td>
                      <td class="border-t py-2 px-4">
                        Rovenheights properties
                      </td>
                      <td class="border-t py-2 px-4">Manual</td>
                      <td class="border-t py-2 px-4">Mustapha Onasanya</td>
                      <td class="border-t py-2 px-4">
                        <span
                          class="bg-[#FFDEBF] text-[#FF7A00] py-1 px-3 rounded text-xs"
                          >Ongoing</span
                        >
                      </td>
                    </tr>

                    <!-- Completed Requests -->
                    <tr class="completed-requests font-thin hidden">
                      <td class="border-t py-2 px-4">10324</td>
                      <td class="border-t py-2 px-4">25/06/2023</td>
                      <td class="border-t py-2 px-4">
                        Rovenheights properties
                      </td>
                      <td class="border-t py-2 px-4">Digital</td>
                      <td class="border-t py-2 px-4">Mustapha Onasanya</td>
                      <td class="border-t py-2 px-4">
                        <span
                          class="bg-[#ECFDF3] text-[#027A48] py-1 px-3 rounded text-xs"
                          >Completed</span
                        >
                      </td>
                    </tr>
                    <tr class="completed-requests font-thin hidden">
                      <td class="border-t py-2 px-4">10325</td>
                      <td class="border-t py-2 px-4">27/06/2023</td>
                      <td class="border-t py-2 px-4">Shoperite</td>
                      <td class="border-t py-2 px-4">Manual</td>
                      <td class="border-t py-2 px-4">Mustapha Onasanya</td>
                      <td class="border-t py-2 px-4">
                        <span
                          class="bg-[#ECFDF3] text-[#027A48] py-1 px-3 rounded text-xs"
                          >Completed</span
                        >
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document
        .getElementById("allRequestsBtn")
        .addEventListener("click", function () {
          filterTable("all-requests");
          setSelectedButton(this);
          toggleSearchBar(false);
        });

      document
        .getElementById("ongoingRequestsBtn")
        .addEventListener("click", function () {
          filterTable("ongoing-requests");
          setSelectedButton(this);
          toggleSearchBar(true);
        });

      document
        .getElementById("completedRequestsBtn")
        .addEventListener("click", function () {
          filterTable("completed-requests");
          setSelectedButton(this);
          toggleSearchBar(true);
        });

      function filterTable(filterClass) {
        const allRows = document.querySelectorAll("#inspectionTableBody tr");
        allRows.forEach((row) => {
          if (row.classList.contains(filterClass)) {
            row.classList.remove("hidden");
          } else {
            row.classList.add("hidden");
          }
        });
      }

      function setSelectedButton(button) {
        const buttons = document.querySelectorAll(" button");
        buttons.forEach((btn) => btn.classList.remove("selected"));
        button.classList.add("selected");
      }

      function toggleSearchBar(show) {
        const createNewBtn = document.getElementById("createNewInspectionBtn");
        const searchBarContainer =
          document.getElementById("searchBarContainer");
        const replacementSearchBar = document.getElementById(
          "replacementSearchBar"
        );
        const tableSearchBar = document.getElementById("tableSearchBar");

        if (show) {
          createNewBtn.classList.add("hidden");
          replacementSearchBar.classList.remove("hidden");
          searchBarContainer.classList.remove("hidden");
          tableSearchBar.classList.add("hidden");
        } else {
          createNewBtn.classList.remove("hidden");
          replacementSearchBar.classList.add("hidden");
          searchBarContainer.classList.add("hidden");
          tableSearchBar.classList.remove("hidden");
        }
      }
      document
        .getElementById("createNewInspectionBtn")
        .addEventListener("click", function (event) {
          event.preventDefault();
          window.location.href = "create_new_inspection.html";
        });
      document
        .getElementById("toggleSidebar")
        .addEventListener("click", function () {
          const firstSidebar = document.getElementById("firstSidebar");
          const secondSidebar = document.getElementById("secondSidebar");
          if (firstSidebar.classList.contains("hidden")) {
            firstSidebar.classList.remove("hidden");
            secondSidebar.classList.remove("hidden");
          } else {
            firstSidebar.classList.add("hidden");
            secondSidebar.classList.add("hidden");
          }
        });
    </script>
  </body>
</html>
